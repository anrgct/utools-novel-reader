(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40f3b4d7"],{"1d79":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"router",attrs:{id:"read_file"}},[i("el-container",[i("el-header",[i("my-navigation",{attrs:{"active-index":"3"},on:{"created-method":t.created_method}})],1),i("el-main",[i("el-form",[i("el-form-item",{attrs:{label:"文件路径"}},[i("el-input",{attrs:{readonly:""},model:{value:t.path,callback:function(e){t.path=e},expression:"path"}}),i("input",{attrs:{type:"file"},on:{change:t.get_file}})],1),i("el-form-item",{attrs:{label:"作者"}},[i("el-input",{staticStyle:{width:"auto"},model:{value:t.author,callback:function(e){t.author=e},expression:"author"}})],1),i("el-form-item",{attrs:{label:"书名"}},[i("el-input",{staticStyle:{width:"auto"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),i("el-form-item",{attrs:{label:"使用正则提取章节"}},[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:t.whether_regular_changes},model:{value:t.is_regex,callback:function(e){t.is_regex=e},expression:"is_regex"}}),i("el-input",{directives:[{name:"show",rawName:"v-show",value:t.is_regex,expression:"is_regex"}],staticStyle:{width:"auto","margin-left":"20px"},attrs:{placeholder:"正则表达式"},model:{value:t.regex,callback:function(e){t.regex=e},expression:"regex"}}),i("el-input",{directives:[{name:"show",rawName:"v-show",value:!t.is_regex,expression:"!is_regex"}],staticStyle:{width:"auto","margin-left":"20px"},attrs:{placeholder:"章节字符数",type:"number"},model:{value:t.split_num,callback:function(e){t.split_num=e},expression:"split_num"}}),i("el-button",{on:{click:t.split_novel}},[t._v("get")])],1)],1),i("el-button",{on:{click:t.add_bookshelf}},[t._v("加入书架")]),i("div",[i("div",{staticStyle:{"text-align":"center"}},[i("h4",{staticClass:"title"},[t._v("目录")])]),t._l(t.directory_list,(function(e,n){return i("el-col",{key:n,attrs:{span:8}},[i("el-link",{attrs:{target:"_blank",underline:!1}},[t._v(t._s(e.name)+" ")])],1)}))],2)],1)],1)],1)},a=[],s=(i("d81d"),i("b0c0"),i("d3b7"),i("4d63"),i("ac1f"),i("25f0"),i("466d"),i("f11d")),r={name:"read_file",components:{"my-navigation":s["a"]},data:function(){return{content:"",author:"",read_chapter:"",directory_list:[],type:"0",regex:"",name:"",is_regex:!1,split_num:4e3,file:""}},methods:{created_method:function(){var t=this;console.log(this.path),window.qs.readFile(this.path,(function(e,i){if(e)return t.$notify({title:"错误",message:"读取文件失败",duration:0,type:"error"});console.log(i.toString(),i),t.content=i.toString(),t.name=t.path.match(/\\([^\\]*?)\./)[1]}))},add_bookshelf:function(){console.log(this.$data)},split_novel:function(){if(this.directory_list=[],this.is_regex)if(""!==this.regex){var t=new RegExp(this.regex,"g");this.directory_list=this.content.match(t),this.directory_list=this.directory_list.map((function(t,e){return{name:t,cid:e}}))}else this.$notify({title:"错误",message:"正则表达式不能为空",type:"error"});else{this.directory_list=[];for(var e=this.content.length/this.split_num+(this.content.length%this.split_num!==0),i=0;i<e;i++)this.directory_list.push({name:"第".concat(i+1,"章"),cid:i})}},whether_regular_changes:function(t){t?this.$notify({title:"提示",message:"使用正则表达式分割章节，正则表达式匹配的值将作为章节名",type:"info"}):this.$notify({title:"提示",message:"不使用正则表达式分割章节，可以选择输入框里输入的数字作为每一章的字符数(包括空格和符号),章节名为第*章",type:"info"})},get_file:function(t){console.log(t.target.files)}},created:function(){this.created_method()},computed:{path:function(){return this.$route.query.path}}},l=r,o=(i("a62e"),i("2877")),c=Object(o["a"])(l,n,a,!1,null,"e222ec9c",null);e["default"]=c.exports},a62e:function(t,e,i){"use strict";var n=i("e93e"),a=i.n(n);a.a},d81d:function(t,e,i){"use strict";var n=i("23e7"),a=i("b727").map,s=i("1dde"),r=i("ae40"),l=s("map"),o=r("map");n({target:"Array",proto:!0,forced:!l||!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e93e:function(t,e,i){},f11d:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Navigation"},[i("el-menu",{attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.select}},[t._l(t.navigation_item,(function(e,n){return i("el-menu-item",{key:n,attrs:{index:String(n)}},[t._v(t._s(e.name)+" ")])})),i("el-link",{staticStyle:{float:"right",height:"60px"},attrs:{index:"setting",underline:!1},on:{click:function(e){t.dialogVisible=!0}}},[i("i",{staticClass:"el-icon-s-tools",staticStyle:{"font-size":"20px","align-self":"center"}})]),i("el-link",{staticStyle:{float:"right",height:"60px"},attrs:{index:"setting",underline:!1},on:{click:function(e){return t.$emit("created-method")}}},[i("i",{staticClass:"el-icon-refresh-right",staticStyle:{"font-size":"20px","align-self":"center","margin-right":"6px"}})])],2),i("my-setting",{attrs:{"dialog-visible":t.dialogVisible},on:{"close-dialog":function(e){t.dialogVisible=!1},"after-save":function(e){return t.$emit("after-save")}}})],1)},a=[],s=i("f49f"),r={name:"Navigation",components:{"my-setting":s["a"]},data:function(){return{navigation_item:[{name:"搜索",path:{name:"search",query:{type:"1"}}},{name:"书架",path:{name:"bookshelf"}},{name:"测试",path:{name:"text"}}],dialogVisible:!1}},props:{activeIndex:String},methods:{select:function(t){this.$router.push(this.navigation_item[t].path)}}},l=r,o=i("2877"),c=Object(o["a"])(l,n,a,!1,null,"2cd50198",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-40f3b4d7.eee189cc.js.map