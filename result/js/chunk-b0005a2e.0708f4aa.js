(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0005a2e"],{"1dde":function(e,t,n){var a=n("d039"),i=n("b622"),s=n("2d00"),r=i("species");e.exports=function(e){return s>=51||!a((function(){var t=[],n=t.constructor={};return n[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4de4":function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").filter,s=n("1dde"),r=n("ae40"),o=s("filter"),l=r("filter");a({target:"Array",proto:!0,forced:!o||!l},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,n){var a=n("861d"),i=n("e8b5"),s=n("b622"),r=s("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?a(n)&&(n=n[r],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"793e":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"router",attrs:{id:"bookshelf"}},[n("el-container",{staticStyle:{height:"100%"}},[n("el-header",[n("my-navigation",{attrs:{"active-index":"1"},on:{"created-method":e.created_method,"after-save":e.get_setting_info}})],1),n("el-main",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[n("el-table",{staticStyle:{width:"100%"},attrs:{border:"",stripe:!0,data:e.all_book_list}},[n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{underline:!1},on:{click:function(n){return e.go_to_novel(t.row._id,t.row.type)}}},[e._v(" "+e._s(t.row.name)+" ")])]}}])},[n("template",{slot:"header"},[e._v("小说名")])],2),n("el-table-column",{attrs:{prop:"author",label:"作者"}}),n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{underline:!1},on:{click:function(n){return e.go_to_content(t.row._id,t.row.read_chapter.cid,t.row.type)}}},[e._v(" "+e._s(t.row.read_chapter.name)+" ")])]}}])},[n("template",{slot:"header"},[e._v("最后阅读")])],2),n("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-link",{attrs:{underline:!1,type:"danger"},on:{click:function(n){return e.cancel_collect(t.row._id)}}},[e._v("移除 ")])]}}])},[n("template",{slot:"header"},[e._v("管理")])],2)],1)],1)],1)],1)},i=[],s=(n("4de4"),n("f11d")),r={name:"bookshelf",components:{"my-navigation":s["a"]},data:function(){return{loading:!1,all_book_list:[],remind:{collect_remind:3,update_reading_section:3,settings_saved_remind:3}}},methods:{go_to_novel:function(e,t){this.$router.push({name:"novel",params:{nid:e},query:{type:t}})},go_to_content:function(e,t,n){this.$router.push({name:"content",params:{nid:e,cid:t},query:{type:n}})},cancel_collect:function(e){var t=window.utools.db.remove(e);t.hasOwnProperty("error")&&t["error"]?this.remind.collect_remind>=2&&this.$notify({title:"错误",message:"移除书架失败",duration:0,type:"error"}):(this.whether_collection=!1,this.remind.collect_remind>=3&&this.$notify({title:"成功",message:"移除书架成功",type:"success"})),this.all_book_list=window.utools.db.allDocs().filter((function(e){return"setting"!==e._id}))},created_method:function(){var e=this;this.all_book_list=window.utools.db.allDocs().filter((function(e){return"setting"!==e._id})),window.utools.setSubInput((function(t){var n=t.text;e.$router.push({name:"search",query:{name:n,type:"1"}})}),"搜索在线小说"),window.utools.subInputBlur(),document.onkeydown=void 0,this.remind=window.utools.db.get("setting").remind},get_setting_info:function(){this.remind=window.utools.db.get("setting").remind}},created:function(){this.created_method()}},o=r,l=n("2877"),d=Object(l["a"])(o,a,i,!1,null,"38277667",null);t["default"]=d.exports},ae40:function(e,t,n){var a=n("83ab"),i=n("d039"),s=n("5135"),r=Object.defineProperty,o={},l=function(e){throw e};e.exports=function(e,t){if(s(o,e))return o[e];t||(t={});var n=[][e],d=!!s(t,"ACCESSORS")&&t.ACCESSORS,c=s(t,0)?t[0]:l,_=s(t,1)?t[1]:void 0;return o[e]=!!n&&!i((function(){if(d&&!a)return!0;var e={length:-1};d?r(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,c,_)}))}},b727:function(e,t,n){var a=n("0366"),i=n("44ad"),s=n("7b0b"),r=n("50c4"),o=n("65f0"),l=[].push,d=function(e){var t=1==e,n=2==e,d=3==e,c=4==e,_=6==e,u=5==e||_;return function(m,g,f,p){for(var v,b,h=s(m),y=i(h),k=a(g,f,3),w=r(y.length),x=0,$=p||o,S=t?$(m,w):n?$(m,0):void 0;w>x;x++)if((u||x in y)&&(v=y[x],b=k(v,x,h),e))if(t)S[x]=b;else if(b)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:l.call(S,v)}else if(c)return!1;return _?-1:d||c?c:S}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},e8b5:function(e,t,n){var a=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},f11d:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Navigation"},[n("el-menu",{attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.select}},[e._l(e.navigation_item,(function(t,a){return n("el-menu-item",{key:a,attrs:{index:String(a)}},[e._v(e._s(t.name)+" ")])})),n("el-link",{staticStyle:{float:"right",height:"60px"},attrs:{index:"setting",underline:!1},on:{click:function(t){e.dialogVisible=!0}}},[n("i",{staticClass:"el-icon-s-tools",staticStyle:{"font-size":"20px","align-self":"center"}})]),n("el-link",{staticStyle:{float:"right",height:"60px"},attrs:{index:"setting",underline:!1},on:{click:function(t){return e.$emit("created-method")}}},[n("i",{staticClass:"el-icon-refresh-right",staticStyle:{"font-size":"20px","align-self":"center","margin-right":"6px"}})])],2),n("my-setting",{attrs:{"dialog-visible":e.dialogVisible},on:{"close-dialog":function(t){e.dialogVisible=!1},"after-save":function(t){return e.$emit("after-save")}}})],1)},i=[],s=n("f49f"),r={name:"Navigation",components:{"my-setting":s["a"]},data:function(){return{navigation_item:[{name:"搜索",path:{name:"search",query:{type:"1"}}},{name:"书架",path:{name:"bookshelf"}},{name:"测试",path:{name:"text"}}],dialogVisible:!1}},props:{activeIndex:String},methods:{select:function(e){this.$router.push(this.navigation_item[e].path)}}},o=r,l=n("2877"),d=Object(l["a"])(o,a,i,!1,null,"2cd50198",null);t["a"]=d.exports},f49f:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"setting"}},[n("el-dialog",{attrs:{title:"设置",visible:e.dialogVisible,width:"70%","before-close":e.dialog_close},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"快捷键",name:"first"}},[n("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[n("el-form-item",[n("el-switch",{attrs:{"inactive-text":"使用快捷键打开上下章"},model:{value:e.setting_data.keyborad.using_keyboard,callback:function(t){e.$set(e.setting_data.keyborad,"using_keyboard",t)},expression:"setting_data.keyborad.using_keyboard"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[n("el-row",{attrs:{gutter:2}},[n("el-col",{attrs:{span:5}},[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"鼠标点击输入框，输入框亮起时即可输入你想要的快捷键,目前只支持一个键"}},[n("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 上一章快捷键"),n("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),n("el-col",{attrs:{span:17}},[n("el-input",{attrs:{readonly:""},on:{blur:e.cleared_to_monitor,focus:e.listen_previous_chapter},model:{value:e.setting_data.keyborad.pre_key,callback:function(t){e.$set(e.setting_data.keyborad,"pre_key",t)},expression:"setting_data.keyborad.pre_key"}})],1)],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[n("el-row",{attrs:{gutter:2}},[n("el-col",{attrs:{span:5}},[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"鼠标点击输入框，输入框亮起时即可输入你想要的快捷键,目前只支持一个键"}},[n("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 下一章快捷键"),n("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),n("el-col",{attrs:{span:17}},[n("el-input",{attrs:{readonly:""},on:{blur:e.cleared_to_monitor,focus:e.listen_next_chapter},model:{value:e.setting_data.keyborad.next_key,callback:function(t){e.$set(e.setting_data.keyborad,"next_key",t)},expression:"setting_data.keyborad.next_key"}})],1)],1)],1)],1)],1),n("el-tab-pane",{attrs:{label:"提醒",name:"second"}},[n("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[n("el-form-item",{attrs:{label:"收藏提醒 "}},[n("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("都不提醒")]),n("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("只有失败提醒")]),n("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("都提醒")])],1),n("el-form-item",{attrs:{label:"章节更新提醒 "}},[n("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("都不提醒")]),n("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("只有失败提醒")]),n("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("都提醒")])],1),n("el-form-item",{attrs:{label:"设置保存提醒 "}},[n("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("都不提醒")]),n("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("只有失败提醒")]),n("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("都提醒")])],1)],1)],1),n("el-tab-pane",{attrs:{label:"阅读外观",name:"third"}},[n("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[n("el-form-item",{attrs:{label:"主题"}},[n("el-select",{attrs:{placeholder:"主题"},model:{value:e.setting_data.style.theme,callback:function(t){e.$set(e.setting_data.style,"theme",t)},expression:"setting_data.style.theme"}},[n("el-option",{attrs:{label:"基础",value:"base-theme"}}),n("el-option",{attrs:{label:"护眼",value:"yellow-theme"}}),n("el-option",{attrs:{label:"暗色",value:"gray-theme"}})],1)],1),n("el-form-item",{attrs:{label:"字体大小"}},[n("el-input-number",{attrs:{min:1,max:40},model:{value:e.setting_data.style.fort_size,callback:function(t){e.$set(e.setting_data.style,"fort_size",t)},expression:"setting_data.style.fort_size"}})],1)],1)],1)],1),n("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save_settings}},[e._v("保存")]),n("el-button",{attrs:{type:"danger"},on:{click:e.restore_settings}},[e._v("取消")])],1)],1)],1)},i=[],s={name:"setting",data:function(){return{setting_data:{_id:"setting",keyborad:{using_keyboard:!1,pre_key:"ArrowLeft",next_key:"ArrowRight"},remind:{collect_remind:3,update_reading_section:3,settings_saved_remind:3},style:{theme:"base-theme",fort_size:18},version:"0.0.7"},activeName:"first"}},props:{dialogVisible:Boolean},methods:{dialog_close:function(e){this.$emit("close-dialog")},listen_previous_chapter:function(){var e=this;document.onkeydown=function(t){t.key!==e.setting_data.keyborad.next_key?e.setting_data.keyborad.pre_key=t.key:e.$message({showClose:!0,message:"两个快捷键不能相同",type:"error"})}},listen_next_chapter:function(){var e=this;document.onkeydown=function(t){t.key!==e.setting_data.keyborad.pre_key?e.setting_data.keyborad.next_key=t.key:e.$message({showClose:!0,message:"两个快捷键不能相同",type:"error"})}},cleared_to_monitor:function(){document.onkeydown=void 0},save_settings:function(){var e=window.utools.db.put(this.setting_data);e.hasOwnProperty("error")&&e["error"]?(this.setting_data.remind.settings_saved_remind>=2&&this.$notify({title:"错误",message:"保存设置失败",duration:0,type:"error"}),this.setting_data=window.utools.db.get("setting")):(this.setting_data=window.utools.db.get("setting"),this.setting_data.remind.settings_saved_remind>=3&&this.$notify({title:"成功",message:"保存设置成功",type:"success"})),this.$emit("after-save")},restore_settings:function(){this.setting_data=window.utools.db.get("setting")}},created:function(){this.setting_data=window.utools.db.get("setting")}},r=s,o=n("2877"),l=Object(o["a"])(r,a,i,!1,null,"3e6fcfab",null);t["a"]=l.exports}}]);
//# sourceMappingURL=chunk-b0005a2e.0708f4aa.js.map