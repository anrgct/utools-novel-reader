(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c8e8aa2"],{"093a":function(e,t,a){"use strict";var n=a("6bd6"),i=a.n(n);i.a},"14b1":function(e,t,a){"use strict";var n=a("81d5"),i=a.n(n);i.a},"14c3":function(e,t,a){var n=a("c6b6"),i=a("9263");e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var r=a.call(e,t);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"1d79":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"router",attrs:{id:"read_file"}},[a("el-container",[a("el-header",[a("my-navigation",{attrs:{"active-index":"2"},on:{"created-method":e.created_method,"after-save":e.get_setting_info}})],1),a("el-main",[a("el-form",[a("el-form-item",{attrs:{label:"文件路径"}},[a("el-input",{attrs:{readonly:""},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}}),a("el-button",{on:{click:e.get_file}},[e._v("上传小说文件")])],1),a("el-form-item",{attrs:{label:"作者"}},[a("el-input",{staticStyle:{width:"auto"},model:{value:e.author,callback:function(t){e.author=t},expression:"author"}})],1),a("el-form-item",{attrs:{label:"书名"}},[a("el-input",{staticStyle:{width:"auto"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("el-form-item",{attrs:{label:"使用正则提取章节"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.whether_regular_changes},model:{value:e.is_regex,callback:function(t){e.is_regex=t},expression:"is_regex"}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:e.is_regex,expression:"is_regex"}],staticStyle:{width:"auto","margin-left":"20px"},attrs:{placeholder:"正则表达式"},model:{value:e.regex,callback:function(t){e.regex=t},expression:"regex"}}),a("el-input",{directives:[{name:"show",rawName:"v-show",value:!e.is_regex,expression:"!is_regex"}],staticStyle:{width:"auto","margin-left":"20px"},attrs:{placeholder:"章节字符数",type:"number"},model:{value:e.split_num,callback:function(t){e.split_num=t},expression:"split_num"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{disabled:void 0===e.path},on:{click:e.split_novel}},[e._v("获取章节 ")])],1)],1),a("el-button",{attrs:{disabled:void 0===e.path},on:{click:e.add_bookshelf}},[e._v("加入书架")]),a("div",[a("div",{staticStyle:{"text-align":"center"}},[a("h4",{staticClass:"title"},[e._v("目录")])]),e._l(e.directory_list,(function(t,n){return a("el-col",{key:n,attrs:{span:8}},[a("el-link",{attrs:{target:"_blank",underline:!1}},[e._v(e._s(t.name)+" ")])],1)}))],2)],1)],1)],1)},i=[],r=(a("d81d"),a("b0c0"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("466d"),a("f11d")),s={name:"read_file",components:{"my-navigation":r["a"]},data:function(){return{content:"",author:"未知",read_chapter:"",directory_list:[],type:"0",regex:"",name:"",is_regex:!1,split_num:4e3,remind:{collect_remind:3,update_reading_section:3,settings_saved_remind:3}}},methods:{created_method:function(){var e=this;window.utools.setSubInput((function(t){var a=t.text;e.myHistory.addNewItem({name:"search",query:{name:a,type:"1"}}),e.$router.push({name:"search",query:{name:a,type:"1"}})}),"搜索在线小说"),window.utools.subInputBlur(),document.onkeydown=void 0,this.get_setting_info(),void 0!==this.path?(window.qs.readFile(this.path,{},(function(t,a){if(t)return e.$notify({title:"错误",message:"读取文件失败，请重新读取文件",duration:0,type:"error"}),e.myHistory.addNewItem({name:"read_file"}),e.$router.push({name:"read_file"}),void e.created_method();e.content=" "+a.toString(),e.name=e.path.match(/\\([^\\]*?)\./)[1]})),this.$notify({title:"提示",message:"目前仅支持utf-8编码的.txt结尾的文件,其他编码方式的.txt文件可以通过文本编辑器改成utf-8编码,就可以正确读取",duration:0,type:"info"})):this.$message({showClose:!0,message:"还没读取文件，先读取文件",type:"error"})},add_bookshelf:function(){this.split_novel();var e,t={_id:this.path,content:this.content,read_chapter:this.directory_list[0],type:"0",regex:this.regex,name:this.name,is_regex:this.is_regex,split_num:this.split_num,author:this.author,directory_list:this.directory_list},a=window.utools.db.get(this.path);null===a||(t._rev=a._rev),e=window.utools.db.put(t),e.hasOwnProperty("error")&&e["error"]?this.remind.collect_remind>=2&&this.$notify({title:"错误",message:"加入书架失败",duration:0,type:"error"}):(this.whether_collection=!0,this.remind.collect_remind>=3&&this.$notify({title:"成功",message:"加入书架成功",type:"success"}))},split_novel:function(){if(this.directory_list=[],this.is_regex)if(""!==this.regex){var e=new RegExp(this.regex,"g");this.directory_list=this.content.match(e),this.directory_list=this.directory_list.map((function(e,t){return{name:e,cid:t}}))}else this.$notify({title:"错误",message:"正则表达式不能为空",type:"error"});else{this.directory_list=[];for(var t=this.content.length/this.split_num+(this.content.length%this.split_num!==0),a=0;a<t;a++)this.directory_list.push({name:"第".concat(a+1,"章"),cid:a})}},whether_regular_changes:function(e){e?this.$notify({title:"提示",message:"使用正则表达式分割章节，正则表达式匹配的值将作为章节名",type:"info"}):this.$notify({title:"提示",message:"不使用正则表达式分割章节，可以选择输入框里输入的数字作为每一章的字符数(包括空格和符号),章节名为第*章",type:"info"})},get_file:function(){var e=window.utools.showOpenDialog({title:"获取小说文件",filters:[{name:"txt文档",extensions:["txt"]}],properties:["openFile"]});1===e.length?(this.myHistory.addNewItem({name:"read_file",query:{path:e[0]}}),this.$router.push({name:"read_file",query:{path:e[0]}}),this.created_method()):this.$message({showClose:!0,message:"没有选取文件",type:"error"})},get_setting_info:function(){this.remind=window.utools.db.get("setting").remind}},created:function(){this.created_method()},computed:{path:function(){return this.$route.query.path}}},o=s,l=(a("093a"),a("2877")),c=Object(l["a"])(o,n,i,!1,null,"90c45aba",null);t["default"]=c.exports},"25f0":function(e,t,a){"use strict";var n=a("6eeb"),i=a("825a"),r=a("d039"),s=a("ad6d"),o="toString",l=RegExp.prototype,c=l[o],d=r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=o;(d||u)&&n(RegExp.prototype,o,(function(){var e=i(this),t=String(e.source),a=e.flags,n=String(void 0===a&&e instanceof RegExp&&!("flags"in l)?s.call(e):a);return"/"+t+"/"+n}),{unsafe:!0})},"44e7":function(e,t,a){var n=a("861d"),i=a("c6b6"),r=a("b622"),s=r("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"466d":function(e,t,a){"use strict";var n=a("d784"),i=a("825a"),r=a("50c4"),s=a("1d80"),o=a("8aa5"),l=a("14c3");n("match",1,(function(e,t,a){return[function(t){var a=s(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var s=i(e),c=String(this);if(!s.global)return l(s,c);var d=s.unicode;s.lastIndex=0;var u,_=[],g=0;while(null!==(u=l(s,c))){var m=String(u[0]);_[g]=m,""===m&&(s.lastIndex=o(c,r(s.lastIndex),d)),g++}return 0===g?null:_}]}))},"4d63":function(e,t,a){var n=a("83ab"),i=a("da84"),r=a("94ca"),s=a("7156"),o=a("9bf2").f,l=a("241c").f,c=a("44e7"),d=a("ad6d"),u=a("9f7f"),_=a("6eeb"),g=a("d039"),m=a("69f3").set,p=a("2626"),f=a("b622"),h=f("match"),v=i.RegExp,y=v.prototype,b=/a/g,x=/a/g,k=new v(b)!==b,w=u.UNSUPPORTED_Y,$=n&&r("RegExp",!k||w||g((function(){return x[h]=!1,v(b)!=b||v(x)==x||"/a/i"!=v(b,"i")})));if($){var E=function(e,t){var a,n=this instanceof E,i=c(e),r=void 0===t;if(!n&&i&&e.constructor===E&&r)return e;k?i&&!r&&(e=e.source):e instanceof E&&(r&&(t=d.call(e)),e=e.source),w&&(a=!!t&&t.indexOf("y")>-1,a&&(t=t.replace(/y/g,"")));var o=s(k?new v(e,t):v(e,t),n?this:y,E);return w&&a&&m(o,{sticky:a}),o},S=function(e){e in E||o(E,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},R=l(v),I=0;while(R.length>I)S(R[I++]);y.constructor=E,E.prototype=y,_(i,"RegExp",E)}p("RegExp")},6547:function(e,t,a){var n=a("a691"),i=a("1d80"),r=function(e){return function(t,a){var r,s,o=String(i(t)),l=n(a),c=o.length;return l<0||l>=c?e?"":void 0:(r=o.charCodeAt(l),r<55296||r>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?e?o.charAt(l):r:e?o.slice(l,l+2):s-56320+(r-55296<<10)+65536)}};e.exports={codeAt:r(!1),charAt:r(!0)}},"65f0":function(e,t,a){var n=a("861d"),i=a("e8b5"),r=a("b622"),s=r("species");e.exports=function(e,t){var a;return i(e)&&(a=e.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?n(a)&&(a=a[s],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===t?0:t)}},"6bd6":function(e,t,a){},7156:function(e,t,a){var n=a("861d"),i=a("d2bb");e.exports=function(e,t,a){var r,s;return i&&"function"==typeof(r=t.constructor)&&r!==a&&n(s=r.prototype)&&s!==a.prototype&&i(e,s),e}},"81d5":function(e,t,a){},"8aa5":function(e,t,a){"use strict";var n=a("6547").charAt;e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},9263:function(e,t,a){"use strict";var n=a("ad6d"),i=a("9f7f"),r=RegExp.prototype.exec,s=String.prototype.replace,o=r,l=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=l||d||c;u&&(o=function(e){var t,a,i,o,u=this,_=c&&u.sticky,g=n.call(u),m=u.source,p=0,f=e;return _&&(g=g.replace("y",""),-1===g.indexOf("g")&&(g+="g"),f=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(m="(?: "+m+")",f=" "+f,p++),a=new RegExp("^(?:"+m+")",g)),d&&(a=new RegExp("^"+m+"$(?!\\s)",g)),l&&(t=u.lastIndex),i=r.call(_?a:u,f),_?i?(i.input=i.input.slice(p),i[0]=i[0].slice(p),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:l&&i&&(u.lastIndex=u.global?i.index+i[0].length:t),d&&i&&i.length>1&&s.call(i[0],a,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=o},"9f7f":function(e,t,a){"use strict";var n=a("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,a){"use strict";var n=a("23e7"),i=a("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,a){"use strict";var n=a("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b727:function(e,t,a){var n=a("0366"),i=a("44ad"),r=a("7b0b"),s=a("50c4"),o=a("65f0"),l=[].push,c=function(e){var t=1==e,a=2==e,c=3==e,d=4==e,u=6==e,_=5==e||u;return function(g,m,p,f){for(var h,v,y=r(g),b=i(y),x=n(m,p,3),k=s(b.length),w=0,$=f||o,E=t?$(g,k):a?$(g,0):void 0;k>w;w++)if((_||w in b)&&(h=b[w],v=x(h,w,y),e))if(t)E[w]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:l.call(E,h)}else if(d)return!1;return u?-1:c||d?d:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},d784:function(e,t,a){"use strict";a("ac1f");var n=a("6eeb"),i=a("d039"),r=a("b622"),s=a("9263"),o=a("9112"),l=r("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=r("replace"),_=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),g=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));e.exports=function(e,t,a,u){var m=r(e),p=!i((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),f=p&&!i((function(){var t=!1,a=/a/;return"split"===e&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[m]=/./[m]),a.exec=function(){return t=!0,null},a[m](""),!t}));if(!p||!f||"replace"===e&&(!c||!d||_)||"split"===e&&!g){var h=/./[m],v=a(m,""[e],(function(e,t,a,n,i){return t.exec===s?p&&!i?{done:!0,value:h.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:_}),y=v[0],b=v[1];n(String.prototype,e,y),n(RegExp.prototype,m,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&o(RegExp.prototype[m],"sham",!0)}},d81d:function(e,t,a){"use strict";var n=a("23e7"),i=a("b727").map,r=a("1dde"),s=a("ae40"),o=r("map"),l=s("map");n({target:"Array",proto:!0,forced:!o||!l},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},f11d:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Navigation"},[a("el-menu",{attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.select}},[e._l(e.navigation_item,(function(t,n){return a("el-menu-item",{key:n,attrs:{index:String(n)}},[e._v(e._s(t.name)+" ")])})),a("el-link",{staticStyle:{float:"right",height:"60px"},attrs:{index:"setting",underline:!1},on:{click:function(t){e.dialogVisible=!0}}},[a("i",{staticClass:"el-icon-s-tools",staticStyle:{"font-size":"20px","align-self":"center"}})]),a("el-link",{staticStyle:{float:"right",height:"60px"},attrs:{index:"setting",underline:!1},on:{click:function(t){return e.$emit("created-method")}}},[a("i",{staticClass:"el-icon-refresh-right",staticStyle:{"font-size":"20px","align-self":"center","margin-right":"6px"}})])],2),a("my-setting",{attrs:{"dialog-visible":e.dialogVisible},on:{"close-dialog":function(t){e.dialogVisible=!1},"after-save":function(t){return e.$emit("after-save")}}})],1)},i=[],r=a("f49f"),s={name:"Navigation",components:{"my-setting":r["a"]},data:function(){return{navigation_item:[{name:"搜索",path:{name:"search",query:{type:"1"}}},{name:"书架",path:{name:"bookshelf"}},{name:"读取文件",path:{name:"read_file"}},{name:"测试",path:{name:"text"}}],dialogVisible:!1}},props:{activeIndex:String},methods:{select:function(e){this.myHistory.addNewItem(this.navigation_item[e].path),this.$router.push(this.navigation_item[e].path)}}},o=s,l=a("2877"),c=Object(l["a"])(o,n,i,!1,null,"6150565c",null);t["a"]=c.exports},f49f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"setting"}},[a("el-dialog",{attrs:{title:"设置",visible:e.dialogVisible,width:"70%","before-close":e.dialog_close},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"快捷键",name:"first"}},[a("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[a("el-form-item",[a("el-switch",{attrs:{"inactive-text":"使用快捷键打开上下章"},model:{value:e.setting_data.keyborad.using_keyboard,callback:function(t){e.$set(e.setting_data.keyborad,"using_keyboard",t)},expression:"setting_data.keyborad.using_keyboard"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"鼠标点击输入框，输入框亮起时即可输入你想要的快捷键,目前只支持一个键"}},[a("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 上章快捷键"),a("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),a("el-col",{attrs:{span:17}},[a("el-input",{attrs:{readonly:""},on:{blur:e.cleared_to_monitor,focus:e.listen_previous_chapter},model:{value:e.setting_data.keyborad.pre_key,callback:function(t){e.$set(e.setting_data.keyborad,"pre_key",t)},expression:"setting_data.keyborad.pre_key"}})],1)],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"鼠标点击输入框，输入框亮起时即可输入你想要的快捷键,目前只支持一个键"}},[a("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 下章快捷键"),a("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),a("el-col",{attrs:{span:17}},[a("el-input",{attrs:{readonly:""},on:{blur:e.cleared_to_monitor,focus:e.listen_next_chapter},model:{value:e.setting_data.keyborad.next_key,callback:function(t){e.$set(e.setting_data.keyborad,"next_key",t)},expression:"setting_data.keyborad.next_key"}})],1)],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"鼠标点击输入框，输入框亮起时即可输入你想要的快捷键,目前只支持一个键"}},[a("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 滚动快捷键"),a("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),a("el-col",{attrs:{span:17}},[a("el-input",{attrs:{readonly:""},on:{blur:e.cleared_to_monitor,focus:e.listen_scroll},model:{value:e.setting_data.keyborad.scroll_key,callback:function(t){e.$set(e.setting_data.keyborad,"scroll_key",t)},expression:"setting_data.keyborad.scroll_key"}})],1)],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"设置滚动长度，数字越大滚动远，最大1000"}},[a("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 滚动长度"),a("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),a("el-col",{attrs:{span:17}},[a("el-input-number",{attrs:{min:1,max:1e3},model:{value:e.setting_data.keyborad.scroll_distance,callback:function(t){e.$set(e.setting_data.keyborad,"scroll_distance",t)},expression:"setting_data.keyborad.scroll_distance"}})],1)],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:5}},[a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"设置滚动速度，数字越大滚动越慢，为0时立即滚动，最大20"}},[a("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 滚动速度"),a("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),a("el-col",{attrs:{span:17}},[a("el-input-number",{attrs:{min:0,max:20},model:{value:e.setting_data.keyborad.scroll_speed,callback:function(t){e.$set(e.setting_data.keyborad,"scroll_speed",t)},expression:"setting_data.keyborad.scroll_speed"}})],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"提醒",name:"second"}},[a("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[a("el-form-item",{attrs:{label:"收藏提醒 "}},[a("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("都不提醒")]),a("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("只有失败提醒")]),a("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("都提醒")])],1),a("el-form-item",{attrs:{label:"章节更新提醒 "}},[a("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("都不提醒")]),a("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("只有失败提醒")]),a("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("都提醒")])],1),a("el-form-item",{attrs:{label:"设置保存提醒 "}},[a("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("都不提醒")]),a("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("只有失败提醒")]),a("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("都提醒")])],1)],1)],1),a("el-tab-pane",{attrs:{label:"阅读外观",name:"third"}},[a("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[a("el-form-item",{attrs:{label:"主题"}},[a("el-select",{attrs:{placeholder:"主题"},model:{value:e.setting_data.style.theme,callback:function(t){e.$set(e.setting_data.style,"theme",t)},expression:"setting_data.style.theme"}},[a("el-option",{attrs:{label:"基础",value:"base-theme"}}),a("el-option",{attrs:{label:"护眼",value:"yellow-theme"}}),a("el-option",{attrs:{label:"暗色",value:"gray-theme"}})],1)],1),a("el-form-item",{attrs:{label:"字体大小"}},[a("el-input-number",{attrs:{min:1,max:40},model:{value:e.setting_data.style.fort_size,callback:function(t){e.$set(e.setting_data.style,"fort_size",t)},expression:"setting_data.style.fort_size"}})],1),a("el-form-item",{attrs:{label:"间隔大小"}},[a("el-input-number",{attrs:{min:1,max:40},model:{value:e.setting_data.style.line_height,callback:function(t){e.$set(e.setting_data.style,"line_height",t)},expression:"setting_data.style.line_height"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.save_settings}},[e._v("保存")]),a("el-button",{attrs:{type:"danger"},on:{click:e.restore_settings}},[e._v("取消")])],1)],1)],1)},i=[],r={name:"setting",data:function(){return{setting_data:{_id:"setting",keyborad:{using_keyboard:!1,pre_key:"ArrowLeft",next_key:"ArrowRight",scroll_key:" ",scroll_distance:150,scroll_speed:5},remind:{collect_remind:3,update_reading_section:3,settings_saved_remind:3},style:{theme:"base-theme",fort_size:18,line_height:25},version:"0.1.2"},activeName:"first"}},props:{dialogVisible:Boolean},methods:{dialog_close:function(e){this.$emit("close-dialog")},listen_previous_chapter:function(){var e=this;document.onkeydown=function(t){t.key!==e.setting_data.keyborad.scroll_key&&t.key!==e.setting_data.keyborad.next_key?e.setting_data.keyborad.pre_key=t.key:e.$message({showClose:!0,message:"两个快捷键不能相同",type:"error"})}},listen_next_chapter:function(){var e=this;document.onkeydown=function(t){t.key!==e.setting_data.keyborad.pre_key&&t.key!==e.setting_data.keyborad.scroll_key?e.setting_data.keyborad.next_key=t.key:e.$message({showClose:!0,message:"两个快捷键不能相同",type:"error"})}},listen_scroll:function(){var e=this;document.onkeydown=function(t){t.key!==e.setting_data.keyborad.pre_key&&t.key!==e.setting_data.keyborad.next_key?e.setting_data.keyborad.scroll_key=t.key:e.$message({showClose:!0,message:"两个快捷键不能相同",type:"error"})}},cleared_to_monitor:function(){document.onkeydown=void 0},save_settings:function(){var e=window.utools.db.put(this.setting_data);e.hasOwnProperty("error")&&e["error"]?(this.setting_data.remind.settings_saved_remind>=2&&this.$notify({title:"错误",message:"保存设置失败",duration:0,type:"error"}),this.setting_data=window.utools.db.get("setting")):(this.setting_data=window.utools.db.get("setting"),this.setting_data.remind.settings_saved_remind>=3&&this.$notify({title:"成功",message:"保存设置成功",type:"success"})),this.$emit("after-save")},restore_settings:function(){this.setting_data=window.utools.db.get("setting")}},created:function(){this.setting_data=window.utools.db.get("setting")}},s=r,o=(a("14b1"),a("2877")),l=Object(o["a"])(s,n,i,!1,null,"cd5b509e",null);t["a"]=l.exports}}]);