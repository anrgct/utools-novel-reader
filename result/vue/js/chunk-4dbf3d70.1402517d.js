(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4dbf3d70"],{"14c3":function(e,t,n){var a=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var r=n.call(e,t);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"199f":function(e,t,n){},"1d79":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"router",attrs:{id:"read_file"}},[n("el-container",[n("el-header",[n("my-navigation",{attrs:{"active-index":"2"},on:{"created-method":e.created_method,"after-save":e.get_setting_info}})],1),n("el-main",[n("el-form",[n("el-form-item",{attrs:{label:"文件路径"}},[n("el-input",{attrs:{readonly:""},model:{value:e.path,callback:function(t){e.path=t},expression:"path"}}),n("el-button",{on:{click:e.get_file}},[e._v("上传小说文件")])],1),n("el-form-item",{attrs:{label:"作者"}},[n("el-input",{staticStyle:{width:"auto"},model:{value:e.author,callback:function(t){e.author=t},expression:"author"}})],1),n("el-form-item",{attrs:{label:"书名"}},[n("el-input",{staticStyle:{width:"auto"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("el-form-item",{attrs:{label:"使用正则提取章节"}},[n("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:e.whether_regular_changes},model:{value:e.is_regex,callback:function(t){e.is_regex=t},expression:"is_regex"}}),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.is_regex,expression:"is_regex"}],staticStyle:{width:"auto","margin-left":"20px"},attrs:{placeholder:"正则表达式"},model:{value:e.regex,callback:function(t){e.regex=t},expression:"regex"}}),n("el-input",{directives:[{name:"show",rawName:"v-show",value:!e.is_regex,expression:"!is_regex"}],staticStyle:{width:"auto","margin-left":"20px"},attrs:{placeholder:"章节字符数",type:"number"},model:{value:e.split_num,callback:function(t){e.split_num=t},expression:"split_num"}}),n("el-button",{staticStyle:{"margin-left":"20px"},attrs:{disabled:void 0===e.path},on:{click:e.split_novel}},[e._v("获取章节 ")])],1)],1),n("el-button",{attrs:{disabled:void 0===e.path},on:{click:e.add_bookshelf}},[e._v("加入书架")]),n("div",[n("div",{staticStyle:{"text-align":"center"}},[n("h4",{staticClass:"title"},[e._v("目录")])]),e._l(e.directory_list,(function(t,a){return n("el-col",{key:a,attrs:{span:8}},[n("el-link",{attrs:{target:"_blank",underline:!1}},[e._v(e._s(t.name)+" ")])],1)}))],2)],1)],1)],1)},i=[],r=(n("d81d"),n("b0c0"),n("d3b7"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("f11d")),s={name:"read_file",components:{"my-navigation":r["a"]},data:function(){return{content:"",author:"未知",read_chapter:"",directory_list:[],type:"0",regex:"",name:"",is_regex:!1,split_num:4e3,remind:{collect_remind:3,update_reading_section:3,settings_saved_remind:3}}},methods:{created_method:function(){var e=this;window.utools.setSubInput((function(t){var n=t.text;e.myHistory.addNewItem({name:"search",query:{name:n,type:"1"}}),e.$router.push({name:"search",query:{name:n,type:"1"}})}),"搜索在线小说"),window.utools.subInputBlur(),document.onkeydown=void 0,this.get_setting_info(),void 0!==this.path?(window.qs.readFile(this.path,{},(function(t,n){if(t)return e.$notify({title:"错误",message:"读取文件失败，请重新读取文件",duration:0,type:"error"}),e.myHistory.addNewItem({name:"read_file"}),e.$router.push({name:"read_file"}),void e.created_method();e.content=" "+n.toString(),e.name=e.path.match(/\\([^\\]*?)\./)[1]})),this.$notify({title:"提示",message:"目前仅支持utf-8编码的.txt结尾的文件,其他编码方式的.txt文件可以通过文本编辑器改成utf-8编码,就可以正确读取",duration:0,type:"info"})):this.$message({showClose:!0,message:"还没读取文件，先读取文件",type:"error"})},add_bookshelf:function(){this.split_novel();var e,t={_id:this.path,content:this.content,read_chapter:this.directory_list[0],type:"0",regex:this.regex,name:this.name,is_regex:this.is_regex,split_num:this.split_num,author:this.author,directory_list:this.directory_list},n=window.utools.db.get(this.path);null===n||(t._rev=n._rev),e=window.utools.db.put(t),e.hasOwnProperty("error")&&e["error"]?this.remind.collect_remind>=2&&this.$notify({title:"错误",message:"加入书架失败",duration:0,type:"error"}):(this.whether_collection=!0,this.remind.collect_remind>=3&&this.$notify({title:"成功",message:"加入书架成功",type:"success"}))},split_novel:function(){if(this.directory_list=[],this.is_regex)if(""!==this.regex){var e=new RegExp(this.regex,"g");this.directory_list=this.content.match(e),this.directory_list=this.directory_list.map((function(e,t){return{name:e,cid:t}}))}else this.$notify({title:"错误",message:"正则表达式不能为空",type:"error"});else{this.directory_list=[];for(var t=this.content.length/this.split_num+(this.content.length%this.split_num!==0),n=0;n<t;n++)this.directory_list.push({name:"第".concat(n+1,"章"),cid:n})}},whether_regular_changes:function(e){e?this.$notify({title:"提示",message:"使用正则表达式分割章节，正则表达式匹配的值将作为章节名",type:"info"}):this.$notify({title:"提示",message:"不使用正则表达式分割章节，可以选择输入框里输入的数字作为每一章的字符数(包括空格和符号),章节名为第*章",type:"info"})},get_file:function(){var e=window.utools.showOpenDialog({title:"获取小说文件",filters:[{name:"txt文档",extensions:["txt"]}],properties:["openFile"]});1===e.length?(this.myHistory.addNewItem({name:"read_file",query:{path:e[0]}}),this.$router.push({name:"read_file",query:{path:e[0]}}),this.created_method()):this.$message({showClose:!0,message:"没有选取文件",type:"error"})},get_setting_info:function(){this.remind=window.utools.db.get("setting").remind}},created:function(){this.created_method()},computed:{path:function(){return this.$route.query.path}}},o=s,l=(n("6062"),n("2877")),c=Object(l["a"])(o,a,i,!1,null,"50312e7a",null);t["default"]=c.exports},"25f0":function(e,t,n){"use strict";var a=n("6eeb"),i=n("825a"),r=n("d039"),s=n("ad6d"),o="toString",l=RegExp.prototype,c=l[o],d=r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=o;(d||u)&&a(RegExp.prototype,o,(function(){var e=i(this),t=String(e.source),n=e.flags,a=String(void 0===n&&e instanceof RegExp&&!("flags"in l)?s.call(e):n);return"/"+t+"/"+a}),{unsafe:!0})},"33e8":function(e,t,n){},"44e7":function(e,t,n){var a=n("861d"),i=n("c6b6"),r=n("b622"),s=r("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"466d":function(e,t,n){"use strict";var a=n("d784"),i=n("825a"),r=n("50c4"),s=n("1d80"),o=n("8aa5"),l=n("14c3");a("match",1,(function(e,t,n){return[function(t){var n=s(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,n):new RegExp(t)[e](String(n))},function(e){var a=n(t,e,this);if(a.done)return a.value;var s=i(e),c=String(this);if(!s.global)return l(s,c);var d=s.unicode;s.lastIndex=0;var u,_=[],g=0;while(null!==(u=l(s,c))){var m=String(u[0]);_[g]=m,""===m&&(s.lastIndex=o(c,r(s.lastIndex),d)),g++}return 0===g?null:_}]}))},"4d63":function(e,t,n){var a=n("83ab"),i=n("da84"),r=n("94ca"),s=n("7156"),o=n("9bf2").f,l=n("241c").f,c=n("44e7"),d=n("ad6d"),u=n("9f7f"),_=n("6eeb"),g=n("d039"),m=n("69f3").set,p=n("2626"),f=n("b622"),h=f("match"),v=i.RegExp,y=v.prototype,b=/a/g,x=/a/g,k=new v(b)!==b,w=u.UNSUPPORTED_Y,$=a&&r("RegExp",!k||w||g((function(){return x[h]=!1,v(b)!=b||v(x)==x||"/a/i"!=v(b,"i")})));if($){var E=function(e,t){var n,a=this instanceof E,i=c(e),r=void 0===t;if(!a&&i&&e.constructor===E&&r)return e;k?i&&!r&&(e=e.source):e instanceof E&&(r&&(t=d.call(e)),e=e.source),w&&(n=!!t&&t.indexOf("y")>-1,n&&(t=t.replace(/y/g,"")));var o=s(k?new v(e,t):v(e,t),a?this:y,E);return w&&n&&m(o,{sticky:n}),o},S=function(e){e in E||o(E,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},R=l(v),I=0;while(R.length>I)S(R[I++]);y.constructor=E,E.prototype=y,_(i,"RegExp",E)}p("RegExp")},6062:function(e,t,n){"use strict";var a=n("199f"),i=n.n(a);i.a},6547:function(e,t,n){var a=n("a691"),i=n("1d80"),r=function(e){return function(t,n){var r,s,o=String(i(t)),l=a(n),c=o.length;return l<0||l>=c?e?"":void 0:(r=o.charCodeAt(l),r<55296||r>56319||l+1===c||(s=o.charCodeAt(l+1))<56320||s>57343?e?o.charAt(l):r:e?o.slice(l,l+2):s-56320+(r-55296<<10)+65536)}};e.exports={codeAt:r(!1),charAt:r(!0)}},"65f0":function(e,t,n){var a=n("861d"),i=n("e8b5"),r=n("b622"),s=r("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?a(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},7156:function(e,t,n){var a=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var r,s;return i&&"function"==typeof(r=t.constructor)&&r!==n&&a(s=r.prototype)&&s!==n.prototype&&i(e,s),e}},"8aa5":function(e,t,n){"use strict";var a=n("6547").charAt;e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},9263:function(e,t,n){"use strict";var a=n("ad6d"),i=n("9f7f"),r=RegExp.prototype.exec,s=String.prototype.replace,o=r,l=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=l||d||c;u&&(o=function(e){var t,n,i,o,u=this,_=c&&u.sticky,g=a.call(u),m=u.source,p=0,f=e;return _&&(g=g.replace("y",""),-1===g.indexOf("g")&&(g+="g"),f=String(e).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==e[u.lastIndex-1])&&(m="(?: "+m+")",f=" "+f,p++),n=new RegExp("^(?:"+m+")",g)),d&&(n=new RegExp("^"+m+"$(?!\\s)",g)),l&&(t=u.lastIndex),i=r.call(_?n:u,f),_?i?(i.input=i.input.slice(p),i[0]=i[0].slice(p),i.index=u.lastIndex,u.lastIndex+=i[0].length):u.lastIndex=0:l&&i&&(u.lastIndex=u.global?i.index+i[0].length:t),d&&i&&i.length>1&&s.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),e.exports=o},"9f7f":function(e,t,n){"use strict";var a=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,n){"use strict";var a=n("23e7"),i=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var a=n("825a");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b727:function(e,t,n){var a=n("0366"),i=n("44ad"),r=n("7b0b"),s=n("50c4"),o=n("65f0"),l=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,d=4==e,u=6==e,_=5==e||u;return function(g,m,p,f){for(var h,v,y=r(g),b=i(y),x=a(m,p,3),k=s(b.length),w=0,$=f||o,E=t?$(g,k):n?$(g,0):void 0;k>w;w++)if((_||w in b)&&(h=b[w],v=x(h,w,y),e))if(t)E[w]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return w;case 2:l.call(E,h)}else if(d)return!1;return u?-1:c||d?d:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},ce9e:function(e,t,n){"use strict";var a=n("33e8"),i=n.n(a);i.a},d784:function(e,t,n){"use strict";n("ac1f");var a=n("6eeb"),i=n("d039"),r=n("b622"),s=n("9263"),o=n("9112"),l=r("species"),c=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=r("replace"),_=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),g=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,u){var m=r(e),p=!i((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),f=p&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return t=!0,null},n[m](""),!t}));if(!p||!f||"replace"===e&&(!c||!d||_)||"split"===e&&!g){var h=/./[m],v=n(m,""[e],(function(e,t,n,a,i){return t.exec===s?p&&!i?{done:!0,value:h.call(t,n,a)}:{done:!0,value:e.call(n,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:_}),y=v[0],b=v[1];a(String.prototype,e,y),a(RegExp.prototype,m,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}u&&o(RegExp.prototype[m],"sham",!0)}},d81d:function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").map,r=n("1dde"),s=n("ae40"),o=r("map"),l=s("map");a({target:"Array",proto:!0,forced:!o||!l},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},f11d:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Navigation"},[n("el-menu",{attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.select}},[e._l(e.navigation_item,(function(t,a){return n("el-menu-item",{key:a,attrs:{index:String(a)}},[e._v(e._s(t.name)+" ")])})),n("el-link",{staticStyle:{float:"right",height:"60px"},attrs:{index:"setting",underline:!1},on:{click:function(t){e.dialogVisible=!0}}},[n("i",{staticClass:"el-icon-s-tools",staticStyle:{"font-size":"20px","align-self":"center"}})]),n("el-link",{staticStyle:{float:"right",height:"60px"},attrs:{index:"setting",underline:!1},on:{click:function(t){return e.$emit("created-method")}}},[n("i",{staticClass:"el-icon-refresh-right",staticStyle:{"font-size":"20px","align-self":"center","margin-right":"6px"}})])],2),n("my-setting",{attrs:{"dialog-visible":e.dialogVisible},on:{"close-dialog":function(t){e.dialogVisible=!1},"after-save":function(t){return e.$emit("after-save")}}})],1)},i=[],r=n("f49f"),s={name:"Navigation",components:{"my-setting":r["a"]},data:function(){return{navigation_item:[{name:"搜索",path:{name:"search",query:{type:"1"}}},{name:"书架",path:{name:"bookshelf"}},{name:"读取文件",path:{name:"read_file"}},{name:"测试",path:{name:"text"}}],dialogVisible:!1}},props:{activeIndex:String},methods:{select:function(e){this.myHistory.addNewItem(this.navigation_item[e].path),this.$router.push(this.navigation_item[e].path)}}},o=s,l=n("2877"),c=Object(l["a"])(o,a,i,!1,null,"4ed2da1a",null);t["a"]=c.exports},f49f:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"setting"}},[n("el-dialog",{attrs:{title:"设置",visible:e.dialogVisible,width:"70%","before-close":e.dialog_close},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"快捷键",name:"first"}},[n("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[n("el-form-item",[n("el-switch",{attrs:{"inactive-text":"使用快捷键打开上下章"},model:{value:e.setting_data.keyborad.using_keyboard,callback:function(t){e.$set(e.setting_data.keyborad,"using_keyboard",t)},expression:"setting_data.keyborad.using_keyboard"}})],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[n("el-row",{attrs:{gutter:2}},[n("el-col",{attrs:{span:5}},[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"鼠标点击输入框，输入框亮起时即可输入你想要的快捷键,目前只支持一个键"}},[n("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 上章快捷键"),n("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),n("el-col",{attrs:{span:17}},[n("el-input",{attrs:{readonly:""},on:{blur:e.cleared_to_monitor,focus:e.listen_previous_chapter},model:{value:e.setting_data.keyborad.pre_key,callback:function(t){e.$set(e.setting_data.keyborad,"pre_key",t)},expression:"setting_data.keyborad.pre_key"}})],1)],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[n("el-row",{attrs:{gutter:2}},[n("el-col",{attrs:{span:5}},[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"鼠标点击输入框，输入框亮起时即可输入你想要的快捷键,目前只支持一个键"}},[n("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 下章快捷键"),n("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),n("el-col",{attrs:{span:17}},[n("el-input",{attrs:{readonly:""},on:{blur:e.cleared_to_monitor,focus:e.listen_next_chapter},model:{value:e.setting_data.keyborad.next_key,callback:function(t){e.$set(e.setting_data.keyborad,"next_key",t)},expression:"setting_data.keyborad.next_key"}})],1)],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[n("el-row",{attrs:{gutter:2}},[n("el-col",{attrs:{span:5}},[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"鼠标点击输入框，输入框亮起时即可输入你想要的快捷键,目前只支持一个键"}},[n("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 滚动快捷键"),n("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),n("el-col",{attrs:{span:17}},[n("el-input",{attrs:{readonly:""},on:{blur:e.cleared_to_monitor,focus:e.listen_scroll},model:{value:e.setting_data.keyborad.scroll_key,callback:function(t){e.$set(e.setting_data.keyborad,"scroll_key",t)},expression:"setting_data.keyborad.scroll_key"}})],1)],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[n("el-row",{attrs:{gutter:2}},[n("el-col",{attrs:{span:5}},[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"设置滚动长度，数字越大滚动远，最大1000"}},[n("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 滚动长度"),n("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),n("el-col",{attrs:{span:17}},[n("el-input-number",{attrs:{min:1,max:1e3},model:{value:e.setting_data.keyborad.scroll_distance,callback:function(t){e.$set(e.setting_data.keyborad,"scroll_distance",t)},expression:"setting_data.keyborad.scroll_distance"}})],1)],1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.setting_data.keyborad.using_keyboard,expression:"setting_data.keyborad.using_keyboard"}]},[n("el-row",{attrs:{gutter:2}},[n("el-col",{attrs:{span:5}},[n("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"设置滚动速度，数字越大滚动越慢，为0时立即滚动，最大20"}},[n("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"reference"},slot:"reference"},[e._v(" 滚动速度"),n("i",{staticClass:"el-icon-question",staticStyle:{"font-size":"1em"}})])])],1),n("el-col",{attrs:{span:17}},[n("el-input-number",{attrs:{min:0,max:20},model:{value:e.setting_data.keyborad.scroll_speed,callback:function(t){e.$set(e.setting_data.keyborad,"scroll_speed",t)},expression:"setting_data.keyborad.scroll_speed"}})],1)],1)],1)],1)],1),n("el-tab-pane",{attrs:{label:"提醒",name:"second"}},[n("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[n("el-form-item",{attrs:{label:"收藏提醒 "}},[n("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("都不提醒")]),n("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("只有失败提醒")]),n("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.collect_remind,callback:function(t){e.$set(e.setting_data.remind,"collect_remind",t)},expression:"setting_data.remind.collect_remind"}},[e._v("都提醒")])],1),n("el-form-item",{attrs:{label:"章节更新提醒 "}},[n("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("都不提醒")]),n("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("只有失败提醒")]),n("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.update_reading_section,callback:function(t){e.$set(e.setting_data.remind,"update_reading_section",t)},expression:"setting_data.remind.update_reading_section"}},[e._v("都提醒")])],1),n("el-form-item",{attrs:{label:"设置保存提醒 "}},[n("el-radio",{attrs:{label:1},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("都不提醒")]),n("el-radio",{attrs:{label:2},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("只有失败提醒")]),n("el-radio",{attrs:{label:3},model:{value:e.setting_data.remind.settings_saved_remind,callback:function(t){e.$set(e.setting_data.remind,"settings_saved_remind",t)},expression:"setting_data.remind.settings_saved_remind"}},[e._v("都提醒")])],1)],1)],1),n("el-tab-pane",{attrs:{label:"阅读外观",name:"third"}},[n("el-form",{ref:"setting_data",attrs:{model:e.setting_data}},[n("el-form-item",{attrs:{label:"主题"}},[n("el-select",{attrs:{placeholder:"主题"},model:{value:e.setting_data.style.theme,callback:function(t){e.$set(e.setting_data.style,"theme",t)},expression:"setting_data.style.theme"}},[n("el-option",{attrs:{label:"基础",value:"base-theme"}}),n("el-option",{attrs:{label:"护眼",value:"yellow-theme"}}),n("el-option",{attrs:{label:"暗色",value:"gray-theme"}})],1)],1),n("el-form-item",{attrs:{label:"字体大小"}},[n("el-input-number",{attrs:{min:1,max:40},model:{value:e.setting_data.style.fort_size,callback:function(t){e.$set(e.setting_data.style,"fort_size",t)},expression:"setting_data.style.fort_size"}})],1),n("el-form-item",{attrs:{label:"间隔大小"}},[n("el-input-number",{attrs:{min:1,max:40},model:{value:e.setting_data.style.line_height,callback:function(t){e.$set(e.setting_data.style,"line_height",t)},expression:"setting_data.style.line_height"}})],1)],1)],1)],1),n("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.save_settings}},[e._v("保存")]),n("el-button",{attrs:{type:"danger"},on:{click:e.restore_settings}},[e._v("取消")])],1)],1)],1)},i=[],r={name:"setting",data:function(){return{setting_data:{_id:"setting",keyborad:{using_keyboard:!1,pre_key:"ArrowLeft",next_key:"ArrowRight",scroll_key:" ",scroll_distance:150,scroll_speed:5},remind:{collect_remind:3,update_reading_section:3,settings_saved_remind:3},style:{theme:"base-theme",fort_size:18,line_height:25},version:"0.1.2"},activeName:"first"}},props:{dialogVisible:Boolean},methods:{dialog_close:function(e){this.$emit("close-dialog")},listen_previous_chapter:function(){var e=this;document.onkeydown=function(t){t.key!==e.setting_data.keyborad.scroll_key&&t.key!==e.setting_data.keyborad.next_key?e.setting_data.keyborad.pre_key=t.key:e.$message({showClose:!0,message:"两个快捷键不能相同",type:"error"})}},listen_next_chapter:function(){var e=this;document.onkeydown=function(t){t.key!==e.setting_data.keyborad.pre_key&&t.key!==e.setting_data.keyborad.scroll_key?e.setting_data.keyborad.next_key=t.key:e.$message({showClose:!0,message:"两个快捷键不能相同",type:"error"})}},listen_scroll:function(){var e=this;document.onkeydown=function(t){t.key!==e.setting_data.keyborad.pre_key&&t.key!==e.setting_data.keyborad.next_key?e.setting_data.keyborad.scroll_key=t.key:e.$message({showClose:!0,message:"两个快捷键不能相同",type:"error"})}},cleared_to_monitor:function(){document.onkeydown=void 0},save_settings:function(){var e=window.utools.db.put(this.setting_data);e.hasOwnProperty("error")&&e["error"]?(this.setting_data.remind.settings_saved_remind>=2&&this.$notify({title:"错误",message:"保存设置失败",duration:0,type:"error"}),this.setting_data=window.utools.db.get("setting")):(this.setting_data=window.utools.db.get("setting"),this.setting_data.remind.settings_saved_remind>=3&&this.$notify({title:"成功",message:"保存设置成功",type:"success"})),this.$emit("after-save")},restore_settings:function(){this.setting_data=window.utools.db.get("setting")}},created:function(){this.setting_data=window.utools.db.get("setting")}},s=r,o=(n("ce9e"),n("2877")),l=Object(o["a"])(s,a,i,!1,null,"a7a1f6f0",null);t["a"]=l.exports}}]);