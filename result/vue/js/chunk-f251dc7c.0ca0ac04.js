(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f251dc7c"],{"1b1d":function(t,e,i){},"5f61":function(t,e,i){"use strict";var n=i("1b1d"),o=i.n(n);o.a},"71c2":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"header"}},[i("el-col",{attrs:{span:"20"}},[i("el-page-header",{staticStyle:{height:"40px"},on:{back:t.go_back}},[i("span",{staticStyle:{"font-size":"15px"},attrs:{slot:"title"},slot:"title"},[t._v(" 返回 ")]),i("template",{staticStyle:{"font-size":"20px"},slot:"content"},[t._v(t._s(t.name)+" ")])],2)],1),i("el-col",{staticStyle:{height:"40px"},attrs:{span:"4"}},[i("el-link",{staticStyle:{float:"right",height:"100%"},attrs:{index:"setting",underline:!1},on:{click:function(e){t.dialogVisible=!0}}},[i("i",{staticClass:"el-icon-s-tools",staticStyle:{"font-size":"20px","align-self":"center"}})]),i("el-link",{staticStyle:{float:"right",height:"100%"},attrs:{index:"setting",underline:!1},on:{click:function(e){return t.$emit("created-method")}}},[i("i",{staticClass:"el-icon-refresh-right",staticStyle:{"font-size":"20px","align-self":"center","margin-right":"6px"}})])],1),i("my-setting",{attrs:{"dialog-visible":t.dialogVisible},on:{"close-dialog":function(e){t.dialogVisible=!1},"after-save":function(e){return t.$emit("after-save")}}})],1)},o=[],r=i("f49f"),a={name:"header",components:{"my-setting":r["a"]},methods:{go_back:function(){this.$router.go(-1)}},data:function(){return{dialogVisible:!1}},props:{name:String}},s=a,l=i("2877"),c=Object(l["a"])(s,n,o,!1,null,"340cc26e",null);e["a"]=c.exports},a434:function(t,e,i){"use strict";var n=i("23e7"),o=i("23cb"),r=i("a691"),a=i("50c4"),s=i("7b0b"),l=i("65f0"),c=i("8418"),d=i("1dde"),h=i("ae40"),_=d("splice"),u=h("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,m=Math.min,p=9007199254740991,f="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!_||!u},{splice:function(t,e){var i,n,d,h,_,u,y=s(this),v=a(y.length),w=o(t,v),x=arguments.length;if(0===x?i=n=0:1===x?(i=0,n=v-w):(i=x-2,n=m(g(r(e),0),v-w)),v+i-n>p)throw TypeError(f);for(d=l(y,n),h=0;h<n;h++)_=w+h,_ in y&&c(d,h,y[_]);if(d.length=n,i<n){for(h=w;h<v-n;h++)_=h+n,u=h+i,_ in y?y[u]=y[_]:delete y[u];for(h=v;h>v-n+i;h--)delete y[h-1]}else if(i>n)for(h=v-n;h>w;h--)_=h+n-1,u=h+i-1,_ in y?y[u]=y[_]:delete y[u];for(h=0;h<i;h++)y[h+w]=arguments[h+2];return y.length=v-n+i,d}})},c3f4:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"router",attrs:{id:"novel"}},[i("el-container",{staticStyle:{height:"100%"}},[i("el-header",{attrs:{height:"40px"}},[i("my-header",{attrs:{name:t.name},on:{"created-method":t.created_method,"after-save":t.get_setting_info}})],1),i("el-main",{directives:[{name:"loading",rawName:"v-loading",value:t.directory_loading||t.info_loading,expression:"directory_loading||info_loading"}]},[i("div",{staticStyle:{"text-align":"center"}},[i("h4",{staticClass:"title"},[t._v(t._s(t.name))])]),i("div",{staticStyle:{"text-align":"center"}},[i("p",[i("span",{staticStyle:{"margin-right":"10px"}},[i("i",{staticClass:"el-icon-user"}),t._v(t._s(t.author)+" ")]),i("span",{staticStyle:{"margin-right":"10px"}},[i("i",{staticClass:"el-icon-time"}),t._v(t._s(t.last_update_time)+" ")]),i("span",{staticStyle:{"margin-right":"10px"}},[i("i",{staticClass:"el-icon-timer"}),i("el-link",{attrs:{target:"_blank",underline:!1},on:{click:function(e){return t.go_to_content(t.nid,t.last_cid)}}},[t._v(t._s(t.latest_chapter))])],1),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.whether_collection,expression:"!whether_collection"}],staticStyle:{"margin-right":"10px"}},[i("el-link",{attrs:{target:"_blank",underline:!1},on:{click:t.collect}},[i("i",{staticClass:"el-icon-star-off"}),t._v(" 加入书架 ")])],1),i("span",{directives:[{name:"show",rawName:"v-show",value:t.whether_collection,expression:"whether_collection"}],staticStyle:{"margin-right":"10px"}},[i("el-link",{attrs:{target:"_blank",underline:!1},on:{click:t.cancel_collect}},[i("i",{staticClass:"el-icon-star-on"}),t._v(" 移除书架 ")])],1)])]),i("el-divider"),i("div",[i("div",{staticStyle:{"text-align":"center"}},[i("h4",{staticClass:"title"},[t._v("目录")])]),t._l(t.directory_list,(function(e,n){return i("el-col",{key:n,attrs:{span:8}},[i("el-link",{attrs:{target:"_blank",underline:!1},on:{click:function(i){return t.go_to_content(t.nid,e.cid)}}},[t._v(t._s(e.name)+" ")])],1)}))],2)],1)],1)],1)},o=[],r=(i("b0c0"),i("4160"),i("a434"),i("d3b7"),i("ac1f"),i("25f0"),i("466d"),i("159b"),i("9558"));function a(t,e,i){switch(t){case"1":s(e,i);break;case"0":l(e,i);break}}function s(t,e){e.axios.get("https://www.meegoq.com/book".concat(t,".html")).then((function(t){var i=(new e.xmldom.DOMParser).parseFromString(t.data),n=e.xpath.select("/html/body/section/article/ul/li/a",i);e.directory_list=[],n.forEach((function(t){try{var i,n=(new e.xmldom.DOMParser).parseFromString(t.toString()),o=e.xpath.select("/a/text()",n);o=1!==o.length?"":o[0].toString(),i=e.xpath.select1("/a/@href",n).value,i=i.match(Object(r["a"])(/_([0-9]+).html/,{id:1})).groups["id"],e.directory_list.push({name:o,cid:i})}catch(a){console.log("错误一个")}})),e.directory_list.length>9&&(e.directory_list=e.directory_list.splice(9)),e.directory_loading=!1})).catch((function(t){e.directory_loading=!1,console.log(t)})),e.axios.get("https://www.meegoq.com/info".concat(t,".html")).then((function(t){var i=(new e.xmldom.DOMParser).parseFromString(t.data);try{e.name=e.xpath.select("/html/body/section/div[1]/article[1]/header/h1/text()",i)[0].toString(),e.author=e.xpath.select("/html/body/section/div[1]/article[1]/p[1]/i[1]/a/text()",i)[0].toString(),e.last_update_time=e.xpath.select("/html/body/section/div[1]/article[1]/p[2]/i/text()",i)[0].toString(),e.latest_chapter=e.xpath.select("/html/body/section/div[1]/article[1]/p[3]/i/a/text()",i)[0].toString(),e.last_cid=e.xpath.select1("/html/body/section/div[1]/article[1]/p[3]/i/a/@href",i).value,e.last_cid=e.last_cid.match(Object(r["a"])(/_([0-9]+).html/,{id:1})).groups["id"]}catch(n){}e.info_loading=!1})).catch((function(t){e.info_loading=!1,console.log(t)}))}function l(t,e){var i=window.utools.db.get(t);e.name=i.name,e.author=i.author,e.last_update_time="未知",e.latest_chapter=i.directory_list[i.directory_list.length-1].name,e.last_cid=i.directory_list[i.directory_list.length-1].cid,e.directory_list=i.directory_list,e.whether_collection=!0,e.directory_loading=!1,e.info_loading=!1}var c={get_directory_and_info:a},d=i("f49f"),h=i("71c2"),_={name:"novel",components:{"my-setting":d["a"],"my-header":h["a"]},data:function(){return{name:"",author:"",last_update_time:"",latest_chapter:"",last_cid:"",directory_list:[],whether_collection:!1,info_loading:!0,directory_loading:!0,remind:{collect_remind:3,update_reading_section:3,settings_saved_remind:3}}},computed:{nid:function(){return this.$route.params.nid},type:function(){return this.$route.query.type}},methods:{to_get_directory_and_info:function(){c.get_directory_and_info(this.type,this.nid,this)},go_to_content:function(t,e){this.$router.push({name:"content",params:{nid:t,cid:e},query:{type:String(this.type)}})},collect:function(){var t={_id:this.nid,name:this.name,author:this.author,read_chapter:this.directory_list[0],bookmark_list:[],type:this.type},e=window.utools.db.put(t);e.hasOwnProperty("error")&&e["error"]?this.remind.collect_remind>=2&&this.$notify({title:"错误",message:"加入书架失败",duration:0,type:"error"}):(this.whether_collection=!0,this.remind.collect_remind>=3&&this.$notify({title:"成功",message:"加入书架成功",type:"success"}))},cancel_collect:function(){var t=window.utools.db.remove(this.nid);t.hasOwnProperty("error")&&t["error"]?this.remind.collect_remind>=2&&this.$notify({title:"错误",message:"移除书架失败",duration:0,type:"error"}):(this.whether_collection=!1,this.remind.collect_remind>=3&&this.$notify({title:"成功",message:"移除书架成功",type:"success"}))},created_method:function(){var t=this;this.whether_collection=null!==window.utools.db.get(this.nid),window.utools.setSubInput((function(e){var i=e.text;t.$router.push({name:"search",query:{name:i,type:"1"}})}),"搜索在线小说"),document.onkeydown=void 0,window.utools.subInputBlur(),this.remind=window.utools.db.get("setting").remind,this.to_get_directory_and_info()},get_setting_info:function(){this.remind=window.utools.db.get("setting").remind}},created:function(){this.created_method()}},u=_,g=(i("5f61"),i("2877")),m=Object(g["a"])(u,n,o,!1,null,"7820815f",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-f251dc7c.0ca0ac04.js.map